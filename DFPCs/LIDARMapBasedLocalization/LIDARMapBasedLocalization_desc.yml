name: LIDARMapBasedLocalization
doc: Localization based on LIDAR pointcloud and rover odometry.
dfns:
    - name: PCMatcher
    - name: PoseEstimator

input_ports:
    - name: lPC
      type: asn1SccPointcloud
      doc: "Point cloud generated by LIDAR"
      connections:
        - dfn: PCMatcher
          port: newPC
    - name: odoPose
      type: asn1SccTransformWithCovariance
      doc: "Estimated pose"
      connections:
        - dfn: PCMatcher
          port: odoPose

output_ports:
    - name: lidarPose
      type: asn1SccTransformWithCovariance
      doc: "Pose estimate based on LIDAR"
      connections:
          dfn: PoseEstimator
          port: lidarPose

internal_connections:
    - from:
        dfn: PCMatcher
        port: overlap
      to:
        dfn: PoseEstimator
        port: overlap
    - from:
        dfn: PCMatcher
        port: transformation
      to:
        dfn: PoseEstimator
        port: transformation
