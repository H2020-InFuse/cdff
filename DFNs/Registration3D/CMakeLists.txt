set(REGISTRATION_3D_SOURCES "Registration3DInterface.cpp")
set(REGISTRATION_3D_INCLUDE_DIRS "")
set(REGISTRATION_3D_DEPENDENCIES "cdff_types" "yaml-cpp" "cdff_helpers" "cdff_converters")

if(PCL_FOUND)
	set(REGISTRATION_3D_SOURCES ${REGISTRATION_3D_SOURCES} "Icp3D.cpp")
	set(REGISTRATION_3D_INCLUDE_DIRS ${REGISTRATION_3D_INCLUDE_DIRS} ${PCL_INCLUDE_DIRS})
	set(REGISTRATION_3D_DEPENDENCIES ${REGISTRATION_3D_DEPENDENCIES} ${PCL_LIBRARIES})
endif()

if(CLOUDCOMPARE_FOUND)
	set(REGISTRATION_3D_SOURCES ${REGISTRATION_3D_SOURCES} "IcpCC.cpp")
	set(REGISTRATION_3D_INCLUDE_DIRS ${REGISTRATION_3D_INCLUDE_DIRS} ${CLOUDCOMPARE_INCLUDE_DIRS})
	set(REGISTRATION_3D_DEPENDENCIES ${REGISTRATION_3D_DEPENDENCIES} ${CLOUDCOMPARE_LIBRARIES})
endif()

if(POINTMATCHER_FOUND)
	set(REGISTRATION_3D_SOURCES ${REGISTRATION_3D_SOURCES} "IcpMatcher.cpp")
	set(REGISTRATION_3D_INCLUDE_DIRS ${REGISTRATION_3D_INCLUDE_DIRS} ${POINTMATCHER_INCLUDE_DIRS})
	set(REGISTRATION_3D_DEPENDENCIES ${REGISTRATION_3D_DEPENDENCIES} ${POINTMATCHER_LIBRARIES})
endif()

add_library(
    cdff_dfn_registration_3d
    ${REGISTRATION_3D_SOURCES}
)
target_include_directories(
    cdff_dfn_registration_3d
    SYSTEM PRIVATE ${REGISTRATION_3D_INCLUDE_DIRS}
)
target_link_libraries(
    cdff_dfn_registration_3d
    ${REGISTRATION_3D_DEPENDENCIES}
)

